<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WT1126YN2Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WT1126YN2Q');
</script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Peck's Mission | Why I Built This" />
  <meta name="description" content="I was a good medic. But I had never been a patient â€” and I didn't know how wide that gap was until I ended up on the other side of it." />
  <meta property="og:description" content="I was a good medic. But I had never been a patient â€” and I didn't know how wide that gap was until I ended up on the other side of it." />
  <meta property="og:image" content="https://www.pecksmission.com/og-image.png" />
  <meta property="og:url" content="https://www.pecksmission.com/why-i-built-this" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <title>Why I Built This â€” Peck's Mission</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300;1,400&family=DM+Mono:wght@300;400&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    :root { --black: #0a0a0a; --white: #f5f0e8; --gold: #c9a84c; --gold-light: #e8c97a; --red: #8b2020; --gray: #4a4a4a; --gray-light: #9a9a9a; }
    html { scroll-behavior: smooth; }
    body { background: var(--black); color: var(--white); font-family: 'Crimson Pro', Georgia, serif; font-size: 19px; line-height: 1.8; overflow-x: hidden; }
    nav { position: fixed; top: 0; width: 100%; z-index: 100; padding: 1.2rem 3rem; display: flex; justify-content: space-between; align-items: center; background: rgba(10,10,10,0.92); backdrop-filter: blur(8px); border-bottom: 1px solid rgba(201,168,76,0.15); }
    .nav-logo { font-family: 'Bebas Neue', sans-serif; font-size: 1.6rem; letter-spacing: 0.15em; color: var(--gold); text-decoration: none; }
    .nav-links { display: flex; gap: 2.5rem; list-style: none; }
    .nav-links a { color: var(--gray-light); text-decoration: none; font-family: 'DM Mono', monospace; font-size: 0.75rem; letter-spacing: 0.12em; text-transform: uppercase; transition: color 0.2s; }
    .nav-links a:hover { color: var(--gold); }
    .post-header { padding: 10rem 3rem 5rem; max-width: 820px; margin: 0 auto; }
    .post-eyebrow { font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--gold); margin-bottom: 1.5rem; }
    .post-title { font-family: 'Bebas Neue', sans-serif; font-size: clamp(3rem, 7vw, 6rem); line-height: 0.95; letter-spacing: 0.02em; margin-bottom: 2rem; }
    .post-meta { font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--gray-light); padding-bottom: 3rem; border-bottom: 1px solid rgba(201,168,76,0.15); }
    .post-body { max-width: 720px; margin: 0 auto; padding: 4rem 3rem 6rem; }
    .post-body p { font-size: 1.15rem; font-weight: 300; color: #d4cfc7; margin-bottom: 1.8rem; line-height: 1.85; }
    .post-body p.opening { font-size: 1.3rem; font-style: italic; color: var(--white); font-weight: 300; }
    .post-body h2 { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 0.05em; color: var(--white); margin: 3.5rem 0 1.2rem; }
    .quote-block { background: rgba(201,168,76,0.05); border-left: 3px solid var(--gold); padding: 2rem 2.5rem; margin: 2.5rem 0; }
    .quote-text { font-family: 'Crimson Pro', serif; font-size: 1.25rem; font-style: italic; font-weight: 300; color: var(--white); line-height: 1.6; margin-bottom: 0.8rem; }
    .quote-attr { font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gold); }
    .verse-block { background: rgba(139,32,32,0.08); border-left: 3px solid var(--red); padding: 2rem 2.5rem; margin: 2.5rem 0; }
    .verse-text { font-family: 'Crimson Pro', serif; font-size: 1.2rem; font-style: italic; font-weight: 300; color: var(--white); line-height: 1.6; margin-bottom: 0.6rem; }
    .verse-ref { font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gray-light); }
    .parallel-block { background: rgba(255,255,255,0.02); border: 1px solid rgba(201,168,76,0.12); padding: 0; margin: 3rem 0; overflow: hidden; }
    .parallel-header { display: grid; grid-template-columns: 1fr 1fr; border-bottom: 1px solid rgba(201,168,76,0.12); }
    .parallel-col-header { padding: 1rem 1.5rem; font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.2em; text-transform: uppercase; }
    .parallel-col-header.chart { color: var(--gray-light); border-right: 1px solid rgba(201,168,76,0.12); }
    .parallel-col-header.reality { color: var(--gold); }
    .parallel-row { display: grid; grid-template-columns: 1fr 1fr; border-bottom: 1px solid rgba(255,255,255,0.04); }
    .parallel-row:last-child { border-bottom: none; }
    .parallel-cell { padding: 1.5rem; font-size: 0.95rem; font-weight: 300; line-height: 1.7; }
    .parallel-cell.chart { color: var(--gray-light); border-right: 1px solid rgba(255,255,255,0.04); font-style: italic; }
    .parallel-cell.reality { color: #ccc; }
    .divider { width: 4rem; height: 1px; background: rgba(201,168,76,0.3); margin: 3rem auto; }
    .audience-section { background: rgba(201,168,76,0.04); border: 1px solid rgba(201,168,76,0.1); padding: 2.5rem; margin: 3rem 0; }
    .audience-section h3 { font-family: 'Bebas Neue', sans-serif; font-size: 1.4rem; letter-spacing: 0.05em; color: var(--gold); margin-bottom: 1.2rem; }
    .audience-item { padding: 0.8rem 0; border-bottom: 1px solid rgba(255,255,255,0.04); font-size: 1rem; color: #bbb; font-weight: 300; }
    .audience-item:last-child { border-bottom: none; padding-bottom: 0; }
    .closing-cta { text-align: center; padding: 3rem 0; border-top: 1px solid rgba(201,168,76,0.15); margin-top: 3rem; }
    .closing-cta p { font-size: 1.2rem; font-weight: 300; color: #ccc; margin-bottom: 1.5rem; }
    .btn { display: inline-block; background: var(--gold); color: var(--black); padding: 0.9rem 2.5rem; font-family: 'DM Mono', monospace; font-size: 0.75rem; letter-spacing: 0.15em; text-transform: uppercase; text-decoration: none; transition: background 0.2s; }
    .btn:hover { background: var(--gold-light); }
    .author-block { display: flex; align-items: center; gap: 1.5rem; padding: 2.5rem 0; border-top: 1px solid rgba(255,255,255,0.05); margin-top: 3rem; }
    .author-info h4 { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 0.08em; color: var(--white); margin-bottom: 0.3rem; }
    .author-info p { font-size: 0.9rem !important; color: var(--gray-light) !important; margin: 0 !important; }
    footer { padding: 3rem; text-align: center; border-top: 1px solid rgba(255,255,255,0.05); }
    .footer-logo { font-family: 'Bebas Neue', sans-serif; font-size: 2rem; letter-spacing: 0.15em; color: var(--gold); margin-bottom: 1rem; }
    .footer-kipling { font-family: 'Crimson Pro', serif; font-size: 1rem; font-style: italic; color: var(--gray-light); margin-bottom: 0.5rem; }
    .footer-line { font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gray); }
    .nav-footer { display: flex; justify-content: center; gap: 2rem; list-style: none; margin-top: 1.5rem; }
    .nav-footer a { color: var(--gray); text-decoration: none; font-family: 'DM Mono', monospace; font-size: 0.65rem; letter-spacing: 0.12em; text-transform: uppercase; transition: color 0.2s; }
    .nav-footer a:hover { color: var(--gold); }
    @media (max-width: 768px) { nav { padding: 1rem 1.5rem; } .nav-links { display: none; } .post-header, .post-body { padding-left: 1.5rem; padding-right: 1.5rem; } .post-header { padding-top: 7rem; } .parallel-header, .parallel-row { grid-template-columns: 1fr; } .parallel-cell.chart { border-right: none; border-bottom: 1px solid rgba(255,255,255,0.04); } .parallel-col-header.chart { border-right: none; border-bottom: 1px solid rgba(201,168,76,0.12); } }

    /* FOLLOW ALONG POPUP */
    .popup-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.75); backdrop-filter: blur(4px); z-index: 999; display: flex; align-items: center; justify-content: center; padding: 1.5rem; opacity: 0; pointer-events: none; transition: opacity 0.4s ease; }
    .popup-overlay.visible { opacity: 1; pointer-events: all; }
    .popup-box { background: #111; border: 1px solid rgba(201,168,76,0.25); max-width: 500px; width: 100%; padding: 3rem 2.5rem 2.5rem; position: relative; transform: translateY(20px); transition: transform 0.4s ease; }
    .popup-overlay.visible .popup-box { transform: translateY(0); }
    .popup-close { position: absolute; top: 1rem; right: 1.2rem; background: none; border: none; color: var(--gray-light); font-size: 1.4rem; cursor: pointer; line-height: 1; padding: 0.2rem 0.4rem; transition: color 0.2s; }
    .popup-close:hover { color: var(--gold); }
    .popup-eyebrow { font-family: 'DM Mono', monospace; font-size: 0.75rem; letter-spacing: 0.25em; text-transform: uppercase; color: var(--gold); margin-bottom: 0.8rem; }
    .popup-title { font-family: 'Bebas Neue', sans-serif; font-size: 2.4rem; line-height: 1; letter-spacing: 0.03em; color: var(--white); margin-bottom: 0.8rem; }
    .popup-sub { font-family: 'Crimson Pro', serif; font-size: 1.05rem; font-style: italic; font-weight: 300; color: var(--gray-light); line-height: 1.6; margin-bottom: 1.8rem; }
    .popup-form-group { margin-bottom: 0.8rem; }
    .popup-input { width: 100%; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1); color: var(--white); padding: 0.85rem 1rem; font-family: 'Crimson Pro', serif; font-size: 1rem; outline: none; transition: border-color 0.2s; -webkit-appearance: none; }
    .popup-input:focus { border-color: rgba(201,168,76,0.5); }
    .popup-input::placeholder { color: var(--gray); font-style: italic; }
    .popup-btn { background: var(--gold); color: var(--black); padding: 0.95rem 0; width: 100%; font-family: 'DM Mono', monospace; font-size: 0.85rem; letter-spacing: 0.2em; text-transform: uppercase; border: none; cursor: pointer; margin-top: 0.4rem; transition: background 0.2s; }
    .popup-btn:hover { background: var(--gold-light); }
    .popup-btn:disabled { opacity: 0.6; cursor: not-allowed; }
    .popup-success { display: none; text-align: center; padding: 1rem 0; }
    .popup-success-msg { font-family: 'Crimson Pro', serif; font-size: 1.3rem; font-style: italic; color: var(--gold-light); margin-bottom: 0.4rem; }
    .popup-success-sub { font-family: 'DM Mono', monospace; font-size: 0.75rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gray-light); }
    .popup-skip { display: block; text-align: center; margin-top: 1.2rem; font-family: 'DM Mono', monospace; font-size: 0.75rem; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gray); cursor: pointer; background: none; border: none; transition: color 0.2s; }
    .popup-skip:hover { color: var(--gray-light); }
  
    .hamburger { display: none; flex-direction: column; justify-content: center; gap: 5px; cursor: pointer; padding: 4px; background: none; border: none; z-index: 200; }
    .hamburger span { display: block; width: 24px; height: 2px; background: var(--gold); transition: all 0.3s; }
    .hamburger.open span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
    .hamburger.open span:nth-child(2) { opacity: 0; }
    .hamburger.open span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }
    .mobile-menu { display: none; position: fixed; top: 60px; right: 1.5rem; width: 220px; background: rgba(10,10,10,0.97); border: 1px solid rgba(201,168,76,0.2); border-radius: 4px; z-index: 150; flex-direction: column; padding: 1.2rem 1.5rem; gap: 1.2rem; backdrop-filter: blur(8px); }
    .mobile-menu.open { display: flex; }
    .mobile-menu a { color: var(--white); text-decoration: none; font-family: 'DM Mono', monospace; font-size: 0.85rem; letter-spacing: 0.12em; text-transform: uppercase; transition: color 0.2s; }
    .mobile-menu a:hover { color: var(--gold); }
    @media (max-width: 768px) { .hamburger { display: flex; } .nav-links { display: none !important; } }

  </style>
</head>
<body>
<nav>
  <a href="index.html" class="nav-logo">Peck's Mission</a>
  <ul class="nav-links">
    <li><a href="about.html">My Story</a></li>
    <li><a href="chiari.html">What is Chiari</a></li>
    <li><a href="blog.html">Updates</a></li>
    <li><a href="follow-along.html">Follow Along</a></li>
  </ul>

  <button class="hamburger" id="hamburger" aria-label="Menu">
    <span></span><span></span><span></span>
  </button>
</nav>
<div class="mobile-menu" id="mobileMenu">
  <a href="index.html" onclick="closeMobile()">Home</a>
  <a href="about.html" onclick="closeMobile()">My Story</a>
  <a href="chiari.html" onclick="closeMobile()">What is Chiari</a>
  <a href="blog.html" onclick="closeMobile()">Updates</a>
  <a href="follow-along.html" onclick="closeMobile()">Follow Along</a>
</div>

<div class="post-header">
  <p class="post-eyebrow">Updates &nbsp;Â·&nbsp; February 2026</p>
  <h1 class="post-title">Why I Built This</h1>
  <div style="display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1rem;">
    <p class="post-meta">By Peck &nbsp;Â·&nbsp; Combat Medic &nbsp;Â·&nbsp; CVICU &nbsp;Â·&nbsp; Chiari Patient</p>
    <a href="follow-along.html#reach-out" style="background: var(--gold); color: var(--black); padding: 1rem 2.5rem; font-family: 'DM Mono', monospace; font-size: 0.8rem; letter-spacing: 0.2em; text-transform: uppercase; text-decoration: none; display: inline-block; transition: background 0.2s;"
      onmouseover="this.style.background='#e8c97a'" onmouseout="this.style.background='#c9a84c'">
      Follow Along
    </a>
  </div>
</div>
</div></div>

<article class="post-body">

  <p class="opening">I was a good medic. I want to be clear about that. I got awards for exceptional patient care. I had patients email the president of the hospital I worked at. I was Doc to my men in the army, and that's not a title that is given lightly.</p>

  <p>But somewhere along the way, I started struggling with something I couldn't name.</p>

  <p>I had never been a patient.</p>

  <h2>The Gap I Didn't Know Existed</h2>

  <p>I didn't know what it felt like to be the one in the bed. To have lines coming out of you that you don't understand. To have alarms going off and not know what they mean. To wait for someone to tell you what's happening and have nobody come. To be 80 years old with no family visiting and look up at your medic hoping he gets it â€” and watch him walk past because he's got eight other patients and a chart to finish.</p>

  <p>I didn't get it. Not really. I was good at treating the disease. I wasn't always good at treating the person who had it.</p>

  <p>There's a gap between what the chart says and what the patient is actually going through. I knew it existed. I just didn't know how wide it was until I ended up on the other side of it.</p>

  <div class="quote-block">
    <p class="quote-text">"Good physicians treat the disease. Great physicians treat the patient who has the disease."</p>
    <p class="quote-attr">â€” William Osler, Founder of Johns Hopkins</p>
  </div>

  <p>That gap is why I built this.</p>

  <h2>What The Parallel Document Is</h2>

  <p>I've spent my career on the treating side. Now I'm on the receiving end, and I'm figuring out in real time what that actually feels like â€” what it means to look fine on the outside while something is quietly failing on the inside. What it means to be a fit 25-year-old that nobody looks at twice, but whose brain has been compressed his entire life without anyone knowing.</p>

  <p>So here's what I'm going to do. I'm going to take the clinical chart â€” what the documentation says about my condition, my surgery, my recovery â€” and I'm going to put it next to what I'm actually experiencing. Side by side. Honest. Unfiltered. The gap made visible.</p>

  <div class="parallel-block">
    <div class="parallel-header">
      <div class="parallel-col-header chart">What The Chart Says</div>
      <div class="parallel-col-header reality">What I'm Actually Going Through</div>
    </div>
    <div class="parallel-row">
      <div class="parallel-cell chart">"Patient presents with wide-based gait and balance disturbance."</div>
      <div class="parallel-cell reality">I walked across the Vanderbilt campus after my consultation â€” refused the shuttle â€” and my legs started swinging out like I was heading into a duel. I thought it was funny. It was also a little terrifying.</div>
    </div>
    <div class="parallel-row">
      <div class="parallel-cell chart">"Three episodes of lower extremity weakness upon waking."</div>
      <div class="parallel-cell reality">I woke up and my legs were noodles. I ran to the bathroom like a drunk person, threw up, and couldn't keep myself upright on the toilet. My buddy offered to help and I told him I was fine. I was not fine.</div>
    </div>
    <div class="parallel-row">
      <div class="parallel-cell chart">"Patient reports dysphagia. Swallow study completed."</div>
      <div class="parallel-cell reality">I couldn't swallow. That's when I thought â€” okay. This is life or death. This is the line. I finally stopped arguing with myself and walked into the ER.</div>
    </div>
    <div class="parallel-row">
      <div class="parallel-cell chart">"Surgery scheduled: Suboccipital craniectomy with C1 laminectomy and duraplasty. February 26th."</div>
      <div class="parallel-cell reality">I have 14 days. I'm more at peace than I expected. I'm also more scared than I'm letting on. Both of those things are true at the same time.</div>
    </div>
  </div>

  <p>This is what the parallel document looks like. I'm going to keep building it through surgery and all the way through recovery. Because that document â€” the chart next to the truth â€” is the thing that might actually change how providers care for patients. And it's the thing that might make a patient somewhere feel less alone inside a system that is technically doing everything right but still somehow missing them.</p>

  <h2>Who This Is For</h2>

  <div class="audience-section">
    <h3>Four Audiences. One Mission.</h3>
    <div class="audience-item">Chiari patients who have been dismissed, misdiagnosed, or told they're imagining it. I know what that feels like. You're not crazy.</div>
    <div class="audience-item">Healthcare providers who want to understand what the chart misses. I've been on both sides. I know what you're not seeing. I'm going to show you.</div>
    <div class="audience-item">Military veterans navigating the healthcare system. I was Doc. I know what it means to push through and not ask for help. This is for you too.</div>
    <div class="audience-item">People of faith walking through medical suffering who need something honest instead of something polished. Job more than Romans. I'm there with you.</div>
  </div>

  <div class="divider"></div>

  <h2>The Bigger Picture</h2>

  <p>I've spent my career on both sides of the bed. combat medic. CVICU. Neuro Trauma ICU. Now patient. That specific combination â€” clinical knowledge plus lived patient experience â€” is not something most people have. I didn't choose it. But I have it. And I think I'm supposed to do something with it.</p>

  <p>Last spring I prayed for empathy. For the heart of a patient. For the ability to slow down and love the person in the bed instead of just treating the disease. Two weeks later all of this surfaced. I'm not writing the ending of that story yet. But I'm not ignoring the thread either.</p>

  <div class="verse-block">
    <p class="verse-text">"For the moment all discipline seems painful rather than pleasant, but later it yields the peaceful fruit of righteousness to those who have been trained by it."</p>
    <p class="verse-ref">â€” Hebrews 12:11</p>
  </div>

  <div class="closing-cta">
    <p>Walk with me through this. Surgery is February 26th. I'm documenting everything.</p>
    <a href="blog.html" class="btn">Read The Updates</a>
  </div>

  <div class="author-block">
    <div class="author-info">
      <h4>Peck</h4>
      <p>Combat Medic Â· CVICU medic Â· Chiari Patient Â· Stonebridge Bible Church</p>
    </div>
  </div>

</article>

<!-- COMMENTS -->
<style>
  /* â”€â”€ Section wrapper â”€â”€ */
  .comments-wrap{max-width:720px;margin:0 auto;padding:0 3rem 5rem;}
  /* â”€â”€ Top divider â€” wider, more breathing room â”€â”€ */
  .comments-rule{width:100%;height:1px;background:rgba(201,168,76,0.12);margin:0 0 3.5rem;}
  /* â”€â”€ Eyebrow label â”€â”€ */
  .comments-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:2rem;}
  .comments-eyebrow{font-family:'DM Mono',monospace;font-size:0.72rem;letter-spacing:0.28em;text-transform:uppercase;color:var(--gold);opacity:0.7;margin:0;}
  /* â”€â”€ Post salute â€” inline with Leave a thought â”€â”€ */
  .post-salute-wrap{display:flex;align-items:center;margin:0;}
  .post-salute-btn{background:none;border:1px solid rgba(255,255,255,0.1);border-radius:3px;cursor:pointer;display:flex;align-items:center;gap:0.65rem;padding:0.7rem 1.6rem;opacity:0.28;transition:opacity 0.25s,border-color 0.25s;}
  .post-salute-btn:hover{opacity:0.6;border-color:rgba(255,255,255,0.25);}
  .post-salute-btn.saluted{opacity:1;border-color:rgba(255,255,255,0.45);}
  .post-salute-btn .salute-emoji{font-size:1.25rem;filter:grayscale(1) brightness(10);display:inline-block;transition:transform 0.15s;}
  .post-salute-btn.saluted .salute-emoji{transform:scale(1.08);}
  .post-salute-label{font-family:'DM Mono',monospace;font-size:0.7rem;letter-spacing:0.22em;text-transform:uppercase;color:rgba(255,255,255,0.85);}
  .post-salute-count{font-family:'DM Mono',monospace;font-size:0.7rem;color:rgba(255,255,255,0.5);}
  /* â”€â”€ Write form â”€â”€ */
  .comment-form{display:flex;flex-direction:column;gap:0.8rem;margin-bottom:3.5rem;padding-bottom:3rem;border-bottom:1px solid rgba(255,255,255,0.05);}
  .comment-textarea{background:rgba(255,255,255,0.03);border:1px solid rgba(201,168,76,0.15);border-radius:2px;color:var(--white);font-family:'Crimson Pro',serif;font-size:1rem;line-height:1.65;padding:0.9rem 1rem;resize:vertical;min-height:88px;transition:border-color 0.2s;outline:none;}
  .comment-textarea:focus{border-color:rgba(201,168,76,0.45);}
  .comment-textarea::placeholder{color:rgba(255,255,255,0.2);}
  .comment-name-row{display:flex;align-items:center;gap:0.75rem;}
  .comment-name-toggle{background:none;border:none;cursor:pointer;font-family:'DM Mono',monospace;font-size:0.68rem;letter-spacing:0.18em;text-transform:uppercase;color:rgba(255,255,255,0.3);padding:0;transition:color 0.2s;display:flex;align-items:center;gap:0.4rem;}
  .comment-name-toggle:hover{color:var(--gold);}
  .comment-name-toggle .caret{display:inline-block;transition:transform 0.2s;font-style:normal;}
  .comment-name-toggle.open .caret{transform:rotate(90deg);}
  .comment-name-input{background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.18);border-radius:2px;color:var(--white);font-family:'Crimson Pro',serif;font-size:0.95rem;padding:0.5rem 0.85rem;outline:none;transition:border-color 0.2s,max-width 0.25s,opacity 0.2s;max-width:0;opacity:0;overflow:hidden;pointer-events:none;flex:1;}
  .comment-name-input.visible{max-width:260px;opacity:1;pointer-events:auto;}
  .comment-name-input:focus{border-color:rgba(201,168,76,0.5);}
  .comment-name-input::placeholder{color:rgba(255,255,255,0.2);}
  .comment-submit{align-self:flex-start;background:transparent;border:1px solid rgba(201,168,76,0.4);color:var(--gold);font-family:'DM Mono',monospace;font-size:0.7rem;letter-spacing:0.22em;text-transform:uppercase;padding:0.55rem 1.4rem;cursor:pointer;border-radius:2px;transition:background 0.2s,color 0.2s;}
  .comment-submit:hover{background:var(--gold);color:var(--black);}
  /* â”€â”€ Comment list â”€â”€ */
  .comment-list{display:flex;flex-direction:column;gap:2rem;}
  .comment-item{padding-left:1rem;border-left:1px solid rgba(201,168,76,0.12);}
  .comment-item-header{display:flex;align-items:baseline;gap:0.65rem;margin-bottom:0.25rem;}
  .comment-item-name{font-family:'DM Mono',monospace;font-size:0.72rem;letter-spacing:0.12em;text-transform:uppercase;color:var(--gold);}
  .comment-item-date{font-family:'DM Mono',monospace;font-size:0.65rem;color:rgba(255,255,255,0.25);}
  .comment-item-text{font-family:'Crimson Pro',serif;font-size:0.98rem;font-weight:300;color:#b8b2a6;line-height:1.7;margin:0 0 0.65rem;}
  .comment-empty{font-family:'Crimson Pro',serif;font-size:0.95rem;font-style:italic;color:rgba(255,255,255,0.25);}
  /* â”€â”€ Action bar â”€â”€ */
  .comment-actions{display:flex;align-items:center;gap:1.25rem;}
  /* Comment salute */
  .salute-btn{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:0.3rem;padding:0;line-height:1;opacity:0.22;transition:opacity 0.2s;}
  .salute-btn:hover{opacity:0.55;}
  .salute-btn.saluted{opacity:1;}
  .salute-btn .salute-emoji{font-size:0.95rem;filter:grayscale(1) brightness(10);display:inline-block;transition:transform 0.15s;}
  .salute-btn.saluted .salute-emoji{transform:scale(1.12);}
  .salute-count{font-family:'DM Mono',monospace;font-size:0.65rem;color:rgba(255,255,255,0.7);}
  /* Reply + expand */
  .comment-reply-btn,.expand-replies-btn{background:none;border:none;cursor:pointer;font-family:'DM Mono',monospace;font-size:0.65rem;letter-spacing:0.14em;text-transform:uppercase;color:rgba(255,255,255,0.25);padding:0;transition:color 0.2s;display:flex;align-items:center;gap:0.25rem;}
  .comment-reply-btn:hover,.expand-replies-btn:hover{color:rgba(255,255,255,0.6);}
  .expand-replies-btn .expand-caret{font-size:0.55rem;transition:transform 0.2s;}
  .expand-replies-btn.open .expand-caret{transform:rotate(90deg);}
  /* â”€â”€ Inline reply form â”€â”€ */
  .reply-form{display:none;flex-direction:column;gap:0.5rem;margin-top:0.8rem;}
  .reply-form.open{display:flex;}
  .reply-form .comment-textarea{min-height:56px;font-size:0.93rem;}
  .reply-name-row{display:flex;align-items:center;gap:0.6rem;flex-wrap:wrap;}
  .reply-name-input{background:rgba(255,255,255,0.04);border:1px solid rgba(201,168,76,0.15);border-radius:2px;color:var(--white);font-family:'Crimson Pro',serif;font-size:0.9rem;padding:0.4rem 0.75rem;outline:none;flex:1;min-width:120px;transition:border-color 0.2s;}
  .reply-name-input:focus{border-color:rgba(201,168,76,0.45);}
  .reply-name-input::placeholder{color:rgba(255,255,255,0.2);}
  .reply-submit{background:transparent;border:1px solid rgba(201,168,76,0.3);color:var(--gold);font-family:'DM Mono',monospace;font-size:0.65rem;letter-spacing:0.18em;text-transform:uppercase;padding:0.38rem 0.9rem;cursor:pointer;border-radius:2px;transition:background 0.2s,color 0.2s;}
  .reply-submit:hover{background:var(--gold);color:var(--black);}
  .reply-cancel{background:none;border:none;cursor:pointer;font-family:'DM Mono',monospace;font-size:0.65rem;letter-spacing:0.14em;text-transform:uppercase;color:rgba(255,255,255,0.22);padding:0;transition:color 0.2s;}
  .reply-cancel:hover{color:rgba(255,255,255,0.55);}
  /* â”€â”€ Nested children â”€â”€ */
  .comment-children{margin-top:1.1rem;display:none;flex-direction:column;gap:1.2rem;padding-left:1rem;border-left:1px solid rgba(255,255,255,0.05);}
  .comment-children.open{display:flex;}
  @media(max-width:640px){
    .comments-wrap{padding:0 1.4rem 4rem;}
    .comment-name-input.visible{max-width:180px;}
    .comment-children{padding-left:0.65rem;}
  }
</style>

<section class="comments-wrap" id="comments" data-post="why-i-built-this">
  <div class="comments-rule"></div>
  <div class="comments-header">
    <p class="comments-eyebrow">Leave a thought</p>
    <div class="post-salute-wrap">
      <button class="post-salute-btn" id="post-salute-btn" type="button">
        <span class="salute-emoji">ðŸ«¡</span>
        <span class="post-salute-label">Salute</span>
        <span class="post-salute-count" id="post-salute-count">0</span>
      </button>
    </div>
  </div>
  <div class="comment-form">
    <textarea class="comment-textarea" id="cm-text" placeholder="Say somethingâ€¦" rows="3"></textarea>
    <div class="comment-name-row">
      <button class="comment-name-toggle" id="cm-name-toggle" type="button">
        <span class="caret">â–¶</span> Add your name
      </button>
      <input class="comment-name-input" id="cm-name" type="text" placeholder="Your name (optional)" autocomplete="off" />
    </div>
    <button class="comment-submit" id="cm-submit" type="button">Post</button>
  </div>
  <div class="comment-list" id="cm-list"></div>
</section>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getFirestore, collection, doc, addDoc, getDoc, setDoc, updateDoc, increment, query, orderBy, getDocs, serverTimestamp }
    from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyApK7IJBYNtw0WD74sHFaNKlMPLAqT1xbg",
    authDomain: "joes-mission.firebaseapp.com",
    projectId: "joes-mission",
    storageBucket: "joes-mission.firebasestorage.app",
    messagingSenderId: "81899759818",
    appId: "1:81899759818:web:5a8aaec3afd8c454b46c33"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  const section = document.getElementById('comments');
  const postKey = section.getAttribute('data-post');
  const colRef = collection(db, 'comments', postKey, 'entries');
  const saluteStorage = 'saluted:' + postKey;

  // â”€â”€ Top-level name toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  const toggle = document.getElementById('cm-name-toggle');
  const nameInput = document.getElementById('cm-name');
  toggle.addEventListener('click', function() {
    toggle.classList.toggle('open');
    nameInput.classList.toggle('visible');
    if (nameInput.classList.contains('visible')) nameInput.focus();
  });

  function fmt(ts) {
    const d = ts && ts.toDate ? ts.toDate() : new Date(ts);
    return d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
  }

  // â”€â”€ Post-level salute â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  async function initPostSalute() {
    const btn = document.getElementById('post-salute-btn');
    const countEl = document.getElementById('post-salute-count');
    if (!btn) return;
    const postSaluteRef = doc(db, 'salutes', postKey);
    // Load count
    try {
      const snap = await getDoc(postSaluteRef);
      const count = snap.exists() ? (snap.data().count || 0) : 0;
      countEl.textContent = count;
    } catch(e) { console.error(e); }
    // Restore local saluted state
    if (sessionStorage.getItem(saluteStorage)) btn.classList.add('saluted');
    btn.addEventListener('click', async function() {
      if (btn.classList.contains('saluted')) return; // one salute per session
      btn.classList.add('saluted');
      sessionStorage.setItem(saluteStorage, '1');
      try {
        const snap = await getDoc(postSaluteRef);
        if (snap.exists()) {
          await updateDoc(postSaluteRef, { count: increment(1) });
        } else {
          await setDoc(postSaluteRef, { count: 1 });
        }
        const newSnap = await getDoc(postSaluteRef);
        countEl.textContent = newSnap.data().count;
      } catch(e) { console.error(e); }
    });
  }

  // â”€â”€ Build tree from flat list â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function buildTree(docs) {
    const map = {};
    const roots = [];
    docs.forEach(d => { map[d.id] = { data: d.data(), id: d.id, children: [] }; });
    docs.forEach(d => {
      const node = map[d.id];
      const pid = node.data.parentId || null;
      if (pid && map[pid]) { map[pid].children.push(node); }
      else { roots.push(node); }
    });
    return roots;
  }

  // â”€â”€ Build a comment element â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function buildEl(node, depth) {
    const { data: c, id: docId, children } = node;
    const item = document.createElement('div');
    item.className = 'comment-item';

    // Header
    const header = document.createElement('div');
    header.className = 'comment-item-header';
    const nameEl = document.createElement('span');
    nameEl.className = 'comment-item-name';
    nameEl.textContent = c.name || 'Anonymous';
    const dateEl = document.createElement('span');
    dateEl.className = 'comment-item-date';
    dateEl.textContent = fmt(c.ts);
    header.appendChild(nameEl);
    header.appendChild(dateEl);

    // Text
    const textEl = document.createElement('p');
    textEl.className = 'comment-item-text';
    textEl.textContent = c.text;

    item.appendChild(header);
    item.appendChild(textEl);

    // â”€â”€ Action bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const actions = document.createElement('div');
    actions.className = 'comment-actions';

    // Salute button (per comment)
    const saluteBtn = document.createElement('button');
    saluteBtn.className = 'salute-btn';
    const saluteEmoji = document.createElement('span');
    saluteEmoji.className = 'salute-emoji';
    saluteEmoji.textContent = '\uD83E\uDDE1'; // ðŸ«¡
    const saluteCount = document.createElement('span');
    saluteCount.className = 'salute-count';
    saluteCount.textContent = c.salutes || 0;
    saluteBtn.appendChild(saluteEmoji);
    saluteBtn.appendChild(saluteCount);
    const commentSaluteKey = 'saluted:' + postKey + ':' + docId;
    if (sessionStorage.getItem(commentSaluteKey)) saluteBtn.classList.add('saluted');
    saluteBtn.addEventListener('click', async function() {
      if (saluteBtn.classList.contains('saluted')) return;
      saluteBtn.classList.add('saluted');
      sessionStorage.setItem(commentSaluteKey, '1');
      const current = parseInt(saluteCount.textContent) || 0;
      saluteCount.textContent = current + 1;
      try {
        const ref = doc(db, 'comments', postKey, 'entries', docId);
        await updateDoc(ref, { salutes: increment(1) });
      } catch(e) { console.error(e); saluteCount.textContent = current; }
    });
    actions.appendChild(saluteBtn);

    // Reply button
    const replyBtn = document.createElement('button');
    replyBtn.className = 'comment-reply-btn';
    replyBtn.textContent = '\u21a9 Reply';
    actions.appendChild(replyBtn);

    // Expand replies button (only if children exist)
    let expandBtn = null;
    if (children.length > 0) {
      expandBtn = document.createElement('button');
      expandBtn.className = 'expand-replies-btn';
      const caret = document.createElement('span');
      caret.className = 'expand-caret';
      caret.textContent = '\u25b6';
      const label = document.createElement('span');
      label.textContent = children.length + (children.length === 1 ? ' reply' : ' replies');
      expandBtn.appendChild(caret);
      expandBtn.appendChild(label);
      actions.appendChild(expandBtn);
    }

    item.appendChild(actions);

    // Reply form
    const replyForm = document.createElement('div');
    replyForm.className = 'reply-form';
    replyForm.innerHTML =
      '<textarea class="comment-textarea" placeholder="Write a reply\u2026" rows="2"></textarea>' +
      '<div class="reply-name-row">' +
        '<input class="reply-name-input" type="text" placeholder="Your name (optional)" autocomplete="off" />' +
        '<button class="reply-submit" type="button">Post reply</button>' +
        '<button class="reply-cancel" type="button">Cancel</button>' +
      '</div>';
    item.appendChild(replyForm);

    // Children (hidden by default)
    const childrenWrap = document.createElement('div');
    childrenWrap.className = 'comment-children';
    children.forEach(child => childrenWrap.appendChild(buildEl(child, depth + 1)));
    item.appendChild(childrenWrap);

    // â”€â”€ Event listeners â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    if (expandBtn) {
      expandBtn.addEventListener('click', () => {
        const isOpen = childrenWrap.classList.toggle('open');
        expandBtn.classList.toggle('open', isOpen);
        const label = expandBtn.querySelector('span:last-child');
        label.textContent = (isOpen ? '\u25be ' : '') + children.length + (children.length === 1 ? ' reply' : ' replies');
      });
    }

    replyBtn.addEventListener('click', () => {
      replyForm.classList.toggle('open');
      if (replyForm.classList.contains('open')) replyForm.querySelector('textarea').focus();
    });

    replyForm.querySelector('.reply-cancel').addEventListener('click', () => {
      replyForm.classList.remove('open');
      replyForm.querySelector('textarea').value = '';
      replyForm.querySelector('.reply-name-input').value = '';
    });

    replyForm.querySelector('.reply-submit').addEventListener('click', async function() {
      const text = replyForm.querySelector('textarea').value.trim();
      if (!text) return;
      const name = replyForm.querySelector('.reply-name-input').value.trim();
      this.textContent = 'Posting\u2026';
      this.disabled = true;
      try {
        await addDoc(colRef, { name, text, parentId: docId, ts: serverTimestamp() });
        replyForm.querySelector('textarea').value = '';
        replyForm.querySelector('.reply-name-input').value = '';
        replyForm.classList.remove('open');
        await load();
      } catch(e) { console.error('Failed to post reply:', e); }
      this.textContent = 'Post reply';
      this.disabled = false;
    });

    return item;
  }

  // â”€â”€ Render â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  function render(docs) {
    const list = document.getElementById('cm-list');
    list.innerHTML = '';
    if (!docs || !docs.length) {
      list.innerHTML = '<p class="comment-empty">No comments yet. Be the first.</p>';
      return;
    }
    buildTree(docs).forEach(node => list.appendChild(buildEl(node, 0)));
  }

  async function load() {
    try {
      const q = query(colRef, orderBy('ts', 'asc'));
      const snap = await getDocs(q);
      render(snap.docs);
    } catch(e) { console.error('Failed to load comments:', e); render([]); }
  }

  // â”€â”€ Post top-level comment â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  document.getElementById('cm-submit').addEventListener('click', async function() {
    const text = document.getElementById('cm-text').value.trim();
    if (!text) return;
    const name = nameInput.value.trim();
    const btn = document.getElementById('cm-submit');
    btn.textContent = 'Posting\u2026';
    btn.disabled = true;
    try {
      await addDoc(colRef, { name, text, parentId: null, ts: serverTimestamp() });
      document.getElementById('cm-text').value = '';
      nameInput.value = '';
      await load();
    } catch(e) { console.error('Failed to post comment:', e); }
    btn.textContent = 'Post';
    btn.disabled = false;
  });

  load();
  initPostSalute();
</script>


<footer>
  <div class="footer-logo">Peck's Mission</div>
  <p class="footer-kipling">"And so hold on when there is nothing in you except the Will which says to them: Hold on."</p>
  <p class="footer-line">â€” Rudyard Kipling, If</p>
  <p class="footer-line" style="margin-top:0.8rem;color:#555;">"The ceiling you hit your whole life wasn't your ceiling. It was the condition's ceiling."</p>
  <ul class="nav-footer">
    <li><a href="index.html">Home</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="chiari.html">Chiari</a></li>
    <li><a href="blog.html">Updates</a></li>
    <li><a href="follow-along.html">Follow Along</a></li>
  </ul>
</footer><!-- FOLLOW ALONG POPUP -->
<div class="popup-overlay" id="popup-overlay" role="dialog" aria-modal="true" aria-label="Follow Along">
  <div class="popup-box">
    <button class="popup-close" id="popup-close" aria-label="Close">&times;</button>
    <p class="popup-eyebrow">Surgery is February 26th</p>
    <h2 class="popup-title">Follow Along</h2>
    <p class="popup-sub">I'll be on the other side of it soon â€” and I'll have a lot to say. Get updates straight to your inbox.</p>

    <div id="popup-form">
      <div class="popup-form-group">
        <input class="popup-input" type="text" id="popup-name" placeholder="Your name" />
      </div>
      <div class="popup-form-group">
        <input class="popup-input" type="email" id="popup-email" placeholder="Your email" />
      </div>
      <button class="popup-btn" id="popup-submit-btn" onclick="submitPopup()">I'm In</button>
      <button class="popup-skip" id="popup-skip">Maybe later</button>
    </div>

    <div class="popup-success" id="popup-success">
      <p class="popup-success-msg">You're in. Thank you.</p>
      <p class="popup-success-sub">I'll see you on the other side.</p>
    </div>
  </div>
</div>

<script>
  const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyaDNsViYx1XxdNgWhF_JViMJQ42qcGNS38ReZ6Lb0q8T16szKpikQD49hXs_B3Y7zo/exec';

  function showPopup() {
    const overlay = document.getElementById('popup-overlay');
    overlay.classList.add('visible');
    document.body.style.overflow = 'hidden';
  }

  function closePopup() {
    const overlay = document.getElementById('popup-overlay');
    overlay.classList.remove('visible');
    
    sessionStorage.setItem('popup-dismissed', '1');
  }

  if (!sessionStorage.getItem('popup-dismissed')) {
    setTimeout(showPopup, 60000);
  }

  document.getElementById('popup-close').addEventListener('click', closePopup);
  document.getElementById('popup-skip').addEventListener('click', closePopup);
  document.getElementById('popup-overlay').addEventListener('click', function(e) {
    if (e.target === this) closePopup();
  });

  function submitPopup() {
    const btn = document.getElementById('popup-submit-btn');
    const name = document.getElementById('popup-name').value.trim();
    const email = document.getElementById('popup-email').value.trim();

    if (!name || !email) {
      alert('Please enter your name and email.');
      return;
    }

    btn.textContent = 'Sending...';
    btn.disabled = true;

    fetch(SCRIPT_URL, {
      method: 'POST',
      mode: 'no-cors',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ name, email, message: 'Signed up via popup on why-i-built-this' })
    })
    .then(() => {
      document.getElementById('popup-form').style.display = 'none';
      document.getElementById('popup-success').style.display = 'block';
      sessionStorage.setItem('popup-dismissed', '1');
      setTimeout(closePopup, 3000);
    })
    .catch(() => {
      btn.textContent = 'I\'m In';
      btn.disabled = false;
      alert('Something went wrong. Please try again.');
    });
  }
</script>


<script>
  var hamburger = document.getElementById('hamburger');
  var mobileMenu = document.getElementById('mobileMenu');
  hamburger.addEventListener('click', function() {
    hamburger.classList.toggle('open');
    mobileMenu.classList.toggle('open');
    
  });
  function closeMobile() {
    hamburger.classList.remove('open');
    mobileMenu.classList.remove('open');
    
  }
</script>
<style>
#tldr-btn{position:fixed;bottom:2rem;right:2rem;z-index:9000;background:#c9a84c;color:#0a0a0a;border:none;cursor:pointer;font-family:'DM Mono',monospace;font-size:0.75rem;letter-spacing:0.18em;text-transform:uppercase;padding:0.65rem 1.2rem;border-radius:2px;box-shadow:0 4px 24px rgba(0,0,0,0.5);transition:background 0.2s,transform 0.15s;line-height:1;}
#tldr-btn:hover{background:#e8c97a;transform:translateY(-2px);}
#tldr-overlay{display:none;position:fixed;inset:0;z-index:9500;background:rgba(0,0,0,0.65);backdrop-filter:blur(4px);align-items:flex-end;justify-content:flex-end;padding:2rem;}
#tldr-overlay.open{display:flex;}
#tldr-box{background:#111;border:1px solid rgba(201,168,76,0.25);border-radius:4px;max-width:440px;width:100%;box-shadow:0 16px 64px rgba(0,0,0,0.7);overflow:hidden;animation:tldrIn 0.22s cubic-bezier(0.34,1.56,0.64,1);}
@keyframes tldrIn{from{opacity:0;transform:translateY(20px) scale(0.97);}to{opacity:1;transform:translateY(0) scale(1);}}
#tldr-head{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.25rem 0.8rem;border-bottom:1px solid rgba(255,255,255,0.06);}
#tldr-head-left{display:flex;flex-direction:column;gap:0.15rem;}
#tldr-eyebrow{font-family:'DM Mono',monospace;font-size:0.7rem;letter-spacing:0.22em;text-transform:uppercase;color:#c9a84c;}
#tldr-ptitle{font-family:'Bebas Neue',sans-serif;font-size:1.3rem;letter-spacing:0.05em;color:#f5f0e8;line-height:1;}
#tldr-x{background:none;border:none;cursor:pointer;color:#9a9a9a;font-size:1.1rem;line-height:1;padding:4px;transition:color 0.2s;}
#tldr-x:hover{color:#c9a84c;}
#tldr-list{list-style:none;margin:0;padding:0.8rem 1.25rem 1.2rem;display:flex;flex-direction:column;gap:0.65rem;}
#tldr-list li{display:flex;gap:0.6rem;font-family:'Crimson Pro',Georgia,serif;font-size:1rem;line-height:1.55;color:#c8c2b5;}
#tldr-list li:before{content:"â†’";color:#c9a84c;flex-shrink:0;margin-top:0.05em;}
@media(max-width:480px){#tldr-btn{bottom:1.2rem;right:1.2rem;}#tldr-overlay{padding:0;align-items:flex-end;}#tldr-box{max-width:100%;border-radius:4px 4px 0 0;}}
</style>
<div id="tldr-data" data-title="Why I Built This" style="display:none"></div>
<script>
(function(){
  var points = ["I was a good medic. I got emails sent to hospital presidents about the care I gave. But I had never been the patient.", "I didn't know how wide that gap was â€” between what the chart says and what the person in the bed is actually going through.", "I know now. And I'm going to put them side by side. The clinical documentation and the lived truth. All the way through recovery.", "This is for the patient who feels something is wrong and can't get anyone to listen. The veteran. The provider who wants to do better. The one who's been told it's all in their head.", "I prayed for empathy. I became the patient. I'm not going to waste it."];
  var title = "Why I Built This";

  var btn = document.createElement('button');
  btn.id = 'tldr-btn';
  btn.textContent = 'TL;DR';
  document.body.appendChild(btn);

  var overlay = document.createElement('div');
  overlay.id = 'tldr-overlay';

  var box = document.createElement('div');
  box.id = 'tldr-box';

  var head = document.createElement('div');
  head.id = 'tldr-head';

  var headLeft = document.createElement('div');
  headLeft.id = 'tldr-head-left';

  var eyebrow = document.createElement('span');
  eyebrow.id = 'tldr-eyebrow';
  eyebrow.textContent = 'Too Long; Didnâ€™t Read';

  var ptitle = document.createElement('span');
  ptitle.id = 'tldr-ptitle';
  ptitle.textContent = title;

  headLeft.appendChild(eyebrow);
  headLeft.appendChild(ptitle);

  var xBtn = document.createElement('button');
  xBtn.id = 'tldr-x';
  xBtn.setAttribute('aria-label','Close');
  xBtn.textContent = 'âœ•';

  head.appendChild(headLeft);
  head.appendChild(xBtn);

  var list = document.createElement('ul');
  list.id = 'tldr-list';
  points.forEach(function(p){
    var li = document.createElement('li');
    li.textContent = p;
    list.appendChild(li);
  });

  box.appendChild(head);
  box.appendChild(list);
  overlay.appendChild(box);
  document.body.appendChild(overlay);

  btn.addEventListener('click', function(){ overlay.classList.add('open'); });
  xBtn.addEventListener('click', function(){ overlay.classList.remove('open'); });
  overlay.addEventListener('click', function(e){ if(e.target===overlay) overlay.classList.remove('open'); });
  document.addEventListener('keydown', function(e){ if(e.key==='Escape') overlay.classList.remove('open'); });
})();
</script>
</body>
</html>
